jQuery(function(e){e(".resend").on("click",function(t){var a=e(this).attr("id");return e(this).html("<i class='fa fa-spinner fa-pulse'></i>"),e.ajax({type:"POST",data:"action=email_verify&id="+e(this).attr("id"),url:ajaxurl,success:function(t){e("span#resend_count"+a).html(t),e("span#resend_count"+a).fadeIn(),e("a.resend_buttons"+a).remove()}}),!1}),e("#login-form").on("submit",function(t){t.preventDefault(),e("#login-status").slideUp(),e("#login-button").addClass("button-progress").prop("disabled",!0);var a={action:"ajaxlogin",username:e("#username").val(),password:e("#password").val(),is_ajax:1};return e.ajax({type:"POST",url:ajaxurl,data:a,dataType:"json",success:function(t){e("#login-button").removeClass("button-progress").prop("disabled",!1),t.success?(e("#login-status").addClass("success").removeClass("error").html("<p>"+LANG_LOGGED_IN_SUCCESS+"</p>").slideDown(),window.location.href=t.message):e("#login-status").removeClass("success").addClass("error").html("<p>"+t.message+"</p>").slideDown()}}),!1}),e(".blog-comment-form").on("submit",function(t){t.preventDefault();var a=e(this).serialize(),s=e(this).find("#comment_parent").val(),i=e(this).find("#comment-field"),n=e(this).find(".button");n.addClass("button-progress").prop("disabled",!0),e.ajax({type:"POST",url:ajaxurl+"?action=submitBlogComment",data:a,dataType:"json",success:function(t){n.removeClass("button-progress").prop("disabled",!1),t.success?(0==s?e(".latest-comments > ul").prepend(t.html):e("#li-comment-"+s).after(t.html),e("html, body").animate({scrollTop:e("#li-comment-"+t.id).offset().top},2e3),i.val("")):e("#respond > .widget-content").prepend('<div class="notification error"><p>'+t.error+"</p></div>")}})});var t=new Audio(siteurl+"includes/assets/audio/message.ogg"),a=new Audio(siteurl+"includes/assets/audio/message.mp3"),s=new Audio(siteurl+"includes/assets/audio/call-waiter.mp3");alertify.closeLogOnClick(!0),alertify.delay(2e4),setInterval(function(){e.ajax({type:"POST",url:ajaxurl,data:{action:"quickHeartBeat"},dataType:"json",success:function(i){!function(s){if(!jQuery.isEmptyObject(s)){if(e("#qr-orders-table").length){for(var i in s){if(s.hasOwnProperty(i)){var n=s[i];let t="";"on-table"==n.type?t=n.table_number:"takeaway"==n.type?t='<span class="small-label margin-left-0">'+LANG_TAKEAWAY+"</span>":"delivery"==n.type&&(t='<span class="small-label margin-left-0">'+LANG_DELIVERY+"</span>");var l=e('<tr class="row-highlight"><td data-label="'+LANG_TABLE_NO+'">'+t+'</td><td data-label="'+LANG_MENU+'">'+n.items_tpl+'</td><td data-label="'+LANG_CUSTOMER+'"><div class="d-flex align-items-center"><i class="icon-feather-user"></i>&nbsp;'+n.customer_name+(""!=n.message&&null!=n.message?'<span class="button gray ico margin-left-5 order-row-message" data-tippy-placement="top" title="'+n.message+'"><i class="icon-feather-message-square"></i></span>':"")+"</div>"+(""!=n.phone_number&&null!=n.phone_number?'<div><i class="icon-feather-phone"></i> '+n.phone_number+"</div>":"")+(""!=n.address&&null!=n.address?'<span><i class="icon-feather-map-pin"></i> '+n.address+"</span>":"")+'</td><td data-label="'+LANG_PRICE+'"><span class="small-label margin-left-0">'+n.price+'</span></td><td data-label="'+LANG_STATUS+'" class="order-row-status"><span class="button gray ico order-status" data-tippy-placement="top" title="'+LANG_PENDING+'"><i class="icon-feather-clock"></i></span></td><td data-label="'+LANG_TIME+'"><small>'+n.created_at+'</small></td><td><button class="button ico qr-complete-order" data-tippy-placement="top" title="'+LANG_COMPLETE+'" data-id="'+n.id+'"><i class="icon-feather-check"></i></button> <button class="button red ico qr-delete-order" data-tippy-placement="top" title="'+LANG_DELETE+'" data-id="'+n.id+'"><i class="icon-feather-trash-2"></i></button> <button class="button green ico qr-view-order" data-tippy-placement="top" title="'+LANG_VIEW_ORDER+'" data-id="'+n.id+'"><i class="icon-feather-eye"></i></button><div class="order-print-tpl-'+n.id+' d-none">'+n.order_print_tpl+"</div></td></tr>")}e("#qr-orders-table").find("tbody").prepend(l)}e(".no-order-found").remove()}1==localStorage.notification_sound&&(a.play(),t.play()),setTimeout(function(){e(".row-highlight").removeClass("row-highlight")},1e3)}}(i.orders),function(e){if(!jQuery.isEmptyObject(e))for(var t in s.play(),e)if(e.hasOwnProperty(t)){var a=e[t];alertify.success(a)}}(i.waiterCalls)}})},1e4)});